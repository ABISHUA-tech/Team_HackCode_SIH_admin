document.addEventListener('DOMContentLoaded', () => {
    const reportList = document.getElementById('reportList');

    // Load reports from localStorage
    let reports = JSON.parse(localStorage.getItem('reports') || '[]');

    function renderReports() {
        if (!reportList) return;
        reportList.innerHTML = reports.map((r, i) => 
            `<li>
                <strong>${r.name}</strong>: ${r.report} <em>(${r.date})</em>
                <button class="delete" data-index="${i}">Delete</button>
            </li>`
        ).join('');
    }

    renderReports();

    // Delete report
    if (reportList) {
        reportList.addEventListener('click', (e) => {
            if (e.target.classList.contains('delete')) {
                const index = e.target.dataset.index;
                reports.splice(index, 1);
                localStorage.setItem('reports', JSON.stringify(reports));
                renderReports();
            }
        });
    }
});
